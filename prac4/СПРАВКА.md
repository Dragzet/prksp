# Справочная информация по React

## 1. Props (Свойства)

### Что такое Props?
Props - это механизм передачи данных от родительского компонента к дочернему. Это объект, содержащий свойства, которые передаются компоненту.

### Пример использования:

**Родительский компонент:**
```javascript
<DialogItem name="Lumine" id="1" />
```

**Дочерний компонент:**
```javascript
const DialogItem = (props) => {
  return (
    <div>
      <p>Имя: {props.name}</p>
      <p>ID: {props.id}</p>
    </div>
  );
}
```

### Деструктуризация props:
```javascript
const DialogItem = ({ name, id }) => {
  return (
    <div>
      <p>Имя: {name}</p>
      <p>ID: {id}</p>
    </div>
  );
}
```

## 2. React Router - Динамическая маршрутизация

### Базовая настройка:

```javascript
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/dialogs/:userId" element={<Dialogs />} />
      </Routes>
    </BrowserRouter>
  );
}
```

### Динамические параметры:

**Определение маршрута:**
```javascript
<Route path="/dialogs/:userId" element={<Dialogs />} />
```

**Получение параметра в компоненте:**
```javascript
import { useParams } from 'react-router-dom';

const Dialogs = () => {
  const { userId } = useParams();
  console.log(userId); // Выведет значение из URL
  
  return <div>Диалог с пользователем {userId}</div>;
}
```

### Навигация:

**Link (без перезагрузки страницы):**
```javascript
import { Link } from 'react-router-dom';

<Link to="/dialogs/1">Перейти к диалогу</Link>
```

**Программная навигация:**
```javascript
import { useNavigate } from 'react-router-dom';

const MyComponent = () => {
  const navigate = useNavigate();
  
  const handleClick = () => {
    navigate('/dialogs/1');
  };
  
  return <button onClick={handleClick}>Перейти</button>;
}
```

## 3. Структура React-проекта

### Рекомендуемая структура:

```
src/
├── components/          # Переиспользуемые компоненты
│   ├── Button/
│   │   ├── Button.js
│   │   └── Button.css
│   └── Card/
│       ├── Card.js
│       └── Card.css
├── pages/              # Компоненты-страницы
│   ├── Home/
│   │   ├── Home.js
│   │   └── Home.css
│   └── About/
│       ├── About.js
│       └── About.css
├── App.js              # Корневой компонент
└── index.js            # Точка входа
```

### Принципы организации:

1. **components/** - маленькие, переиспользуемые компоненты (кнопки, карточки, формы)
2. **pages/** - компоненты верхнего уровня, представляющие целые страницы
3. Каждый компонент в своей папке с CSS-файлом

## 4. Методы массивов для работы со списками

### map() - создание списка элементов

```javascript
const users = [
  { id: 1, name: 'Lumine' },
  { id: 2, name: 'Aether' }
];

// Создание списка компонентов
const usersList = users.map(user => (
  <DialogItem key={user.id} name={user.name} id={user.id} />
));
```

**Важно:** всегда добавляйте `key` при использовании `map()`!

### filter() - фильтрация массива

```javascript
const messages = [
  { id: 1, text: 'Hello', isOwn: true },
  { id: 2, text: 'Hi', isOwn: false }
];

// Получить только свои сообщения
const myMessages = messages.filter(msg => msg.isOwn);
```

### find() - поиск элемента

```javascript
const users = [
  { id: 1, name: 'Lumine' },
  { id: 2, name: 'Aether' }
];

// Найти пользователя по ID
const user = users.find(u => u.id === 1);
console.log(user); // { id: 1, name: 'Lumine' }
```

## 5. Условный рендеринг

### Тернарный оператор:
```javascript
{userId ? (
  <Messages userId={userId} />
) : (
  <div>Выберите диалог</div>
)}
```

### Логическое И (&&):
```javascript
{messages.length > 0 && (
  <MessageList messages={messages} />
)}
```

### If-else через переменную:
```javascript
const Dialogs = () => {
  let content;
  
  if (userId) {
    content = <Messages userId={userId} />;
  } else {
    content = <div>Выберите диалог</div>;
  }
  
  return <div>{content}</div>;
}
```

## 6. CSS классы и стилизация

### Статический класс:
```javascript
<div className="dialog-item">
  {/* контент */}
</div>
```

### Динамический класс:
```javascript
<div className={isActive ? 'active' : 'inactive'}>
  {/* контент */}
</div>
```

### Множественные классы:
```javascript
<div className={`message ${props.isOwn ? 'message-own' : 'message-other'}`}>
  {/* контент */}
</div>
```

## 7. Hooks (хуки)

### useParams - получение параметров маршрута:
```javascript
import { useParams } from 'react-router-dom';

const { userId, postId } = useParams();
```

### useState - управление состоянием:
```javascript
import { useState } from 'react';

const [count, setCount] = useState(0);

<button onClick={() => setCount(count + 1)}>
  Счётчик: {count}
</button>
```

### useNavigate - программная навигация:
```javascript
import { useNavigate } from 'react-router-dom';

const navigate = useNavigate();
navigate('/home');
```

## 8. Экспорт и импорт компонентов

### Экспорт (в файле компонента):
```javascript
// DialogItem.js
const DialogItem = (props) => {
  return <div>{props.name}</div>;
}

export default DialogItem;
```

### Импорт (где используем):
```javascript
// Dialogs.js
import DialogItem from '../../components/DialogItem/DialogItem';

const Dialogs = () => {
  return <DialogItem name="Lumine" id="1" />;
}
```

## 9. Пример полного компонента

```javascript
// Message.js
import React from 'react';
import './Message.css';

const Message = (props) => {
  // Деструктуризация props
  const { author, text, time, isOwn } = props;
  
  // Определение класса
  const messageClass = isOwn ? 'message-own' : 'message-other';
  
  return (
    <div className={`message ${messageClass}`}>
      <div className="message-content">
        <div className="message-author">{author}</div>
        <div className="message-text">{text}</div>
        <div className="message-time">{time}</div>
      </div>
    </div>
  );
}

export default Message;
```

## 10. Полезные команды

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm start

# Сборка для production
npm run build

# Запуск тестов
npm test
```
